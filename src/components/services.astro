---
import OptimizedImage from '@/components/shared/optimized-image.astro';
import { siteConfig } from '@/config';

type ServiceItem = {
  title: string;
  description: string;
  href?: string;
  img: { src: string; alt: string; loading?: 'lazy' | 'eager' };
};

interface Props {
  id?: string;
  heading?: string;
  subheading?: string;
  items?: ServiceItem[];
}

const {
  id = 'services',
  heading = 'Serviços Especializados',
  subheading = null,
  items = [
    {
      title: 'Divisórias Eucatex',
      description: 'Montagem rápida e limpa para escritórios, estações de trabalho e ambientes corporativos.',
      href: 'https://wa.me/559189359657',
      img: { src: 'assets/img/servicos-divisorias-eucatex.jpg', alt: 'Instalação de divisórias Eucatex', loading: 'lazy' }
    },
    {
      title: 'Forro PVC',
      description: 'Praticidade, leveza e fácil manutenção para áreas comerciais e ambientes administrativos.',
      href: 'https://wa.me/559189359657',
      img: { src: '/assets/img/servicos-forro-pvc.jpg', alt: 'Instalação de forro PVC', loading: 'lazy' }
    },
    {
      title: 'Drywall / Gesso',
      description: 'Acabamento profissional, isolamento acústico e flexibilidade para projetos internos.',
      href: 'https://wa.me/559189359657',
      img: { src: 'assets/img/servicos-drywall.jpg', alt: 'Montagem de drywall e forros de gesso', loading: 'lazy' }
    },
    {
      title: 'Piso Vinílico',
      description: 'Conforto, resistência e estética moderna para áreas comerciais e escritórios.',
      href: 'https://wa.me/559189359657',
      img: { src: '/assets/img/servicos-piso-vinilico.jpg', alt: 'Instalação de piso vinílico', loading: 'lazy' }
    }
  ]
} = Astro.props;
---
<section id={id}>
  <div class="bg-base-100 py-8 sm:py-16 lg:py-24">
    <div class={`${siteConfig.container}`}>
      <!-- Section Header -->
      <div class="mb-12 space-y-4 text-center sm:mb-16 lg:mb-24">
        <h2 class="text-2xl font-semibold text-base-content md:text-3xl lg:text-4xl">
          {heading}
        </h2>
        <!--<p class="text-xl text-base-content/80">{subheading}</p>-->
      </div>

      <!-- Cards Grid -->
      <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4">
        {
          items.map((item: ServiceItem) => (
            <div class="card-border card overflow-hidden shadow-none">
              <OptimizedImage
                src={item.img.src}
                alt={item.img.alt}
                loading={item.img.loading ?? 'lazy'}
              />
              <div class="card-body gap-3">
                <h3 class="card-title text-xl">{item.title}</h3>
                <p class="mb-2 text-sm text-base-content/80">{item.description}</p>
                <div class="card-actions">
                  <a
                    href={item.href ?? '#'}
                    target="_blank"
                    class="btn btn-primary btn-sm"
                    aria-label={`Solicitar orçamento de ${item.title}`}
                  >
                    Solicitar Orçamento
                    <span
                      class="icon-[tabler--arrow-right] size-4 rtl:rotate-180"
                      aria-hidden="true"
                    />
                  </a>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>
