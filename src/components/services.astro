---
import OptimizedImage from '@/components/shared/optimized-image.astro';
import { siteConfig } from '@/config';

type ServiceItem = {
  title: string;
  description: string;
  href?: string;
  img: { src: string; alt: string; loading?: 'lazy' | 'eager' };
};

interface Props {
  id?: string;
  heading?: string;
  subheading?: string;
  items?: ServiceItem[];
}

const {
  id = 'services',
  heading = 'Crafting Moments, Serving You',
  subheading = `From unforgettable flavors to seamless service, we're here to make every meal feel special. Whether you dine in, take out, or order online we've got your cravings covered.`,
  items = [
    {
      title: 'Buffet Service',
      description:
        "Navigate effortlessly with our intuitive design, optimized for all devices. Enjoy a seamless experience whether you're on a computer or mobile device.",
      href: '#',
      img: { src: '/assets/img/free-blog-1.png', alt: 'Vegetable Market', loading: 'lazy' }
    },
    {
      title: 'Food delivery',
      description:
        'Enjoy a safe shopping experience with multiple payment options and SSL encryption. Your personal and financial information is always protected.',
      href: '#',
      img: { src: '/assets/img/free-blog-2.png', alt: 'Delivery Service', loading: 'lazy' }
    },
    {
      title: 'Cafeteria',
      description:
        'Find products quickly with advanced filters, sorting options, and suggestion. Save time and effortlessly locate exactly what you need with ease.',
      href: '#',
      img: { src: '/assets/img/free-blog-3.png', alt: 'Cafeteria', loading: 'lazy' }
    }
  ]
} = Astro.props;
---

<section id={id}>
  <div class="bg-base-100 py-8 sm:py-16 lg:py-24">
    <div class={`${siteConfig.container}`}>
      <!-- Section Header -->
      <div class="mb-12 space-y-4 text-center sm:mb-16 lg:mb-24">
        <h2 class="text-2xl font-semibold text-base-content md:text-3xl lg:text-4xl">
          {heading}
        </h2>
        <p class="text-xl text-base-content/80">{subheading}</p>
      </div>

      <!-- Cards Grid -->
      <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3">
        {
          items.map((item: ServiceItem) => (
            <div class="card-border card overflow-hidden shadow-none">
              <OptimizedImage
                src={item.img.src}
                alt={item.img.alt}
                loading={item.img.loading ?? 'lazy'}
              />
              <div class="card-body gap-3">
                <h3 class="card-title text-xl">{item.title}</h3>
                <p class="mb-5">{item.description}</p>
                <div class="card-actions">
                  <a
                    href={item.href ?? '#'}
                    class="btn btn-gradient btn-primary"
                    aria-label={`Read more about ${item.title}`}
                  >
                    Read More
                    <span
                      class="icon-[tabler--arrow-right] size-5 rtl:rotate-180"
                      aria-hidden="true"
                    />
                  </a>
                </div>
              </div>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>
